!function(r){r(document).ready(function(){!function(t){r(document).on("googleMapAutoInit",".google-map",function(t){!function(t){var e=t.attr("id"),n={id:e,map:null,settings:e in window.googleMapSettings?window.googleMapSettings[e]:null,markers:[],bounds:null};if(n.settings&&n.settings.autoInit){if(n.settings.options.center?n.settings.options.center=n.settings.options.center instanceof google.maps.LatLng?n.settings.options.center:new google.maps.LatLng(n.settings.options.center.lat,n.settings.options.center.lng):n.settings.options.center=new google.maps.LatLng(0,0),n.map=new google.maps.Map(document.getElementById(e),n.settings.options),n.settings.autoAddMarkers){for(var o in n.bounds=new google.maps.LatLngBounds,n.settings.points){var a=n.settings.points[o],s=new google.maps.LatLng(a.lat,a.lng),i={markerIndex:parseInt(o),position:s,map:n.map,title:a.title};n.settings.allowDraggableMarkers&&(i.draggable=!0);var g=new google.maps.Marker(i);n.settings.allowDraggableMarkers&&g.addListener("drag",function(){r(this.map.getDiv()).trigger("googleMapMarkerDrag",[r(this.map.getDiv()),this])}),n.markers.push(g),n.bounds.extend(s)}n.settings.points.length&&(n.map.fitBounds(n.bounds),google.maps.event.addListenerOnce(n.map,"idle",function(){var t=r(this.getDiv()).data("map-data");t.map.getZoom()>t.settings.options.zoom&&t.map.setZoom(t.settings.options.zoom)}))}n.initialized=!0,t.data("map-data",n),t.addClass("map-initialized"),t.trigger("mapInitialized")}t.data("map-data",n),t.addClass("map-configured"),t.trigger("mapConfigured")}(r(this))}),t.trigger("googleMapAutoInit")}(r(".google-map"))})}(jQuery);